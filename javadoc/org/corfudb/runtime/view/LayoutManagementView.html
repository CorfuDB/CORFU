<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_151) on Thu Dec 14 17:55:55 UTC 2017 -->
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>LayoutManagementView (corfu 0.1-5278 API)</title>
<meta name="date" content="2017-12-14">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="LayoutManagementView (corfu 0.1-5278 API)";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/LayoutManagementView.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../org/corfudb/runtime/view/LayoutDeserializer.html" title="class in org.corfudb.runtime.view"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../org/corfudb/runtime/view/LayoutView.html" title="class in org.corfudb.runtime.view"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?org/corfudb/runtime/view/LayoutManagementView.html" target="_top">Frames</a></li>
<li><a href="LayoutManagementView.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.classes.inherited.from.class.org.corfudb.runtime.view.AbstractView">Nested</a>&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.corfudb.runtime.view</div>
<h2 title="Class LayoutManagementView" class="title">Class LayoutManagementView</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">java.lang.Object</a></li>
<li>
<ul class="inheritance">
<li><a href="../../../../org/corfudb/runtime/view/AbstractView.html" title="class in org.corfudb.runtime.view">org.corfudb.runtime.view.AbstractView</a></li>
<li>
<ul class="inheritance">
<li>org.corfudb.runtime.view.LayoutManagementView</li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public class <span class="typeNameLabel">LayoutManagementView</span>
extends <a href="../../../../org/corfudb/runtime/view/AbstractView.html" title="class in org.corfudb.runtime.view">AbstractView</a></pre>
<div class="block">A view of the Layout Manager to manage reconfigurations of the Corfu Cluster.

 <p>Created by zlokhandwala on 11/1/17.</p></div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="nested.class.summary">
<!--   -->
</a>
<h3>Nested Class Summary</h3>
<ul class="blockList">
<li class="blockList"><a name="nested.classes.inherited.from.class.org.corfudb.runtime.view.AbstractView">
<!--   -->
</a>
<h3>Nested classes/interfaces inherited from class&nbsp;org.corfudb.runtime.view.<a href="../../../../org/corfudb/runtime/view/AbstractView.html" title="class in org.corfudb.runtime.view">AbstractView</a></h3>
<code><a href="../../../../org/corfudb/runtime/view/AbstractView.LayoutFunction.html" title="interface in org.corfudb.runtime.view">AbstractView.LayoutFunction</a>&lt;<a href="../../../../org/corfudb/runtime/view/AbstractView.LayoutFunction.html" title="type parameter in AbstractView.LayoutFunction">V</a>,<a href="../../../../org/corfudb/runtime/view/AbstractView.LayoutFunction.html" title="type parameter in AbstractView.LayoutFunction">R</a>,<a href="../../../../org/corfudb/runtime/view/AbstractView.LayoutFunction.html" title="type parameter in AbstractView.LayoutFunction">A</a> extends <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Throwable.html?is-external=true" title="class or interface in java.lang">Throwable</a>,<a href="../../../../org/corfudb/runtime/view/AbstractView.LayoutFunction.html" title="type parameter in AbstractView.LayoutFunction">B</a> extends <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Throwable.html?is-external=true" title="class or interface in java.lang">Throwable</a>,<a href="../../../../org/corfudb/runtime/view/AbstractView.LayoutFunction.html" title="type parameter in AbstractView.LayoutFunction">C</a> extends <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Throwable.html?is-external=true" title="class or interface in java.lang">Throwable</a>,<a href="../../../../org/corfudb/runtime/view/AbstractView.LayoutFunction.html" title="type parameter in AbstractView.LayoutFunction">D</a> extends <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Throwable.html?is-external=true" title="class or interface in java.lang">Throwable</a>&gt;</code></li>
</ul>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../../org/corfudb/runtime/view/LayoutManagementView.html#LayoutManagementView-org.corfudb.runtime.CorfuRuntime-">LayoutManagementView</a></span>(<a href="../../../../org/corfudb/runtime/CorfuRuntime.html" title="class in org.corfudb.runtime">CorfuRuntime</a>&nbsp;runtime)</code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/corfudb/runtime/view/LayoutManagementView.html#addNode-org.corfudb.runtime.view.Layout-java.lang.String-boolean-boolean-boolean-boolean-int-">addNode</a></span>(<a href="../../../../org/corfudb/runtime/view/Layout.html" title="class in org.corfudb.runtime.view">Layout</a>&nbsp;currentLayout,
       <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;endpoint,
       boolean&nbsp;isLayoutServer,
       boolean&nbsp;isSequencerServer,
       boolean&nbsp;isLogUnitServer,
       boolean&nbsp;isUnresponsiveServer,
       int&nbsp;logUnitStripeIndex)</code>
<div class="block">Adds a new node to the existing layout.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/corfudb/runtime/view/LayoutManagementView.html#bootstrapNewNode-java.lang.String-">bootstrapNewNode</a></span>(<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;endpoint)</code>
<div class="block">Bootstraps the new node with the current layout.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/corfudb/runtime/view/LayoutManagementView.html#handleFailure-org.corfudb.runtime.view.IFailureHandlerPolicy-org.corfudb.runtime.view.Layout-java.util.Set-java.util.Set-">handleFailure</a></span>(<a href="../../../../org/corfudb/runtime/view/IFailureHandlerPolicy.html" title="interface in org.corfudb.runtime.view">IFailureHandlerPolicy</a>&nbsp;failureHandlerPolicy,
             <a href="../../../../org/corfudb/runtime/view/Layout.html" title="class in org.corfudb.runtime.view">Layout</a>&nbsp;currentLayout,
             <a href="http://docs.oracle.com/javase/8/docs/api/java/util/Set.html?is-external=true" title="class or interface in java.util">Set</a>&lt;<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&gt;&nbsp;failedServers,
             <a href="http://docs.oracle.com/javase/8/docs/api/java/util/Set.html?is-external=true" title="class or interface in java.util">Set</a>&lt;<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&gt;&nbsp;healedServers)</code>
<div class="block">Takes in the existing layout and a set of failed nodes.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/corfudb/runtime/view/LayoutManagementView.html#mergeSegments-org.corfudb.runtime.view.Layout-">mergeSegments</a></span>(<a href="../../../../org/corfudb/runtime/view/Layout.html" title="class in org.corfudb.runtime.view">Layout</a>&nbsp;currentLayout)</code>
<div class="block">Attempts to merge the last 2 segments.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/corfudb/runtime/view/LayoutManagementView.html#recoverCluster-org.corfudb.runtime.view.Layout-">recoverCluster</a></span>(<a href="../../../../org/corfudb/runtime/view/Layout.html" title="class in org.corfudb.runtime.view">Layout</a>&nbsp;recoveryLayout)</code>
<div class="block">On restart, if MANAGEMENT_LAYOUT exists in the local datastore.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.org.corfudb.runtime.view.AbstractView">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;org.corfudb.runtime.view.<a href="../../../../org/corfudb/runtime/view/AbstractView.html" title="class in org.corfudb.runtime.view">AbstractView</a></h3>
<code><a href="../../../../org/corfudb/runtime/view/AbstractView.html#getCurrentLayout--">getCurrentLayout</a>, <a href="../../../../org/corfudb/runtime/view/AbstractView.html#layoutHelper-org.corfudb.runtime.view.AbstractView.LayoutFunction-">layoutHelper</a>, <a href="../../../../org/corfudb/runtime/view/AbstractView.html#layoutHelper-org.corfudb.runtime.view.AbstractView.LayoutFunction-boolean-">layoutHelper</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></h3>
<code><a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#clone--" title="class or interface in java.lang">clone</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#equals-java.lang.Object-" title="class or interface in java.lang">equals</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#finalize--" title="class or interface in java.lang">finalize</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#getClass--" title="class or interface in java.lang">getClass</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#hashCode--" title="class or interface in java.lang">hashCode</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#notify--" title="class or interface in java.lang">notify</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#notifyAll--" title="class or interface in java.lang">notifyAll</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#toString--" title="class or interface in java.lang">toString</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#wait--" title="class or interface in java.lang">wait</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#wait-long-" title="class or interface in java.lang">wait</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#wait-long-int-" title="class or interface in java.lang">wait</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="LayoutManagementView-org.corfudb.runtime.CorfuRuntime-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>LayoutManagementView</h4>
<pre>public&nbsp;LayoutManagementView(@NonNull
                            <a href="../../../../org/corfudb/runtime/CorfuRuntime.html" title="class in org.corfudb.runtime">CorfuRuntime</a>&nbsp;runtime)</pre>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="recoverCluster-org.corfudb.runtime.view.Layout-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>recoverCluster</h4>
<pre>public&nbsp;void&nbsp;recoverCluster(<a href="../../../../org/corfudb/runtime/view/Layout.html" title="class in org.corfudb.runtime.view">Layout</a>&nbsp;recoveryLayout)
                    throws <a href="../../../../org/corfudb/runtime/exceptions/QuorumUnreachableException.html" title="class in org.corfudb.runtime.exceptions">QuorumUnreachableException</a>,
                           <a href="../../../../org/corfudb/runtime/exceptions/OutrankedException.html" title="class in org.corfudb.runtime.exceptions">OutrankedException</a>,
                           <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/InterruptedException.html?is-external=true" title="class or interface in java.lang">InterruptedException</a>,
                           <a href="http://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ExecutionException.html?is-external=true" title="class or interface in java.util.concurrent">ExecutionException</a>,
                           <a href="../../../../org/corfudb/runtime/exceptions/LayoutModificationException.html" title="class in org.corfudb.runtime.exceptions">LayoutModificationException</a>,
                           <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/CloneNotSupportedException.html?is-external=true" title="class or interface in java.lang">CloneNotSupportedException</a></pre>
<div class="block">On restart, if MANAGEMENT_LAYOUT exists in the local datastore.
 the Management Server attempts to recover the cluster from that layout.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>recoveryLayout</code> - Layout to use to recover</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../org/corfudb/runtime/exceptions/QuorumUnreachableException.html" title="class in org.corfudb.runtime.exceptions">QuorumUnreachableException</a></code></dd>
<dd><code><a href="../../../../org/corfudb/runtime/exceptions/OutrankedException.html" title="class in org.corfudb.runtime.exceptions">OutrankedException</a></code></dd>
<dd><code><a href="http://docs.oracle.com/javase/8/docs/api/java/lang/InterruptedException.html?is-external=true" title="class or interface in java.lang">InterruptedException</a></code></dd>
<dd><code><a href="http://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ExecutionException.html?is-external=true" title="class or interface in java.util.concurrent">ExecutionException</a></code></dd>
<dd><code><a href="../../../../org/corfudb/runtime/exceptions/LayoutModificationException.html" title="class in org.corfudb.runtime.exceptions">LayoutModificationException</a></code></dd>
<dd><code><a href="http://docs.oracle.com/javase/8/docs/api/java/lang/CloneNotSupportedException.html?is-external=true" title="class or interface in java.lang">CloneNotSupportedException</a></code></dd>
</dl>
</li>
</ul>
<a name="handleFailure-org.corfudb.runtime.view.IFailureHandlerPolicy-org.corfudb.runtime.view.Layout-java.util.Set-java.util.Set-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>handleFailure</h4>
<pre>public&nbsp;void&nbsp;handleFailure(<a href="../../../../org/corfudb/runtime/view/IFailureHandlerPolicy.html" title="interface in org.corfudb.runtime.view">IFailureHandlerPolicy</a>&nbsp;failureHandlerPolicy,
                          <a href="../../../../org/corfudb/runtime/view/Layout.html" title="class in org.corfudb.runtime.view">Layout</a>&nbsp;currentLayout,
                          <a href="http://docs.oracle.com/javase/8/docs/api/java/util/Set.html?is-external=true" title="class or interface in java.util">Set</a>&lt;<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&gt;&nbsp;failedServers,
                          <a href="http://docs.oracle.com/javase/8/docs/api/java/util/Set.html?is-external=true" title="class or interface in java.util">Set</a>&lt;<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&gt;&nbsp;healedServers)
                   throws <a href="../../../../org/corfudb/runtime/exceptions/QuorumUnreachableException.html" title="class in org.corfudb.runtime.exceptions">QuorumUnreachableException</a>,
                          <a href="../../../../org/corfudb/runtime/exceptions/OutrankedException.html" title="class in org.corfudb.runtime.exceptions">OutrankedException</a>,
                          <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/InterruptedException.html?is-external=true" title="class or interface in java.lang">InterruptedException</a>,
                          <a href="http://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ExecutionException.html?is-external=true" title="class or interface in java.util.concurrent">ExecutionException</a>,
                          <a href="../../../../org/corfudb/runtime/exceptions/LayoutModificationException.html" title="class in org.corfudb.runtime.exceptions">LayoutModificationException</a>,
                          <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/CloneNotSupportedException.html?is-external=true" title="class or interface in java.lang">CloneNotSupportedException</a></pre>
<div class="block">Takes in the existing layout and a set of failed nodes.
 It first generates a new layout by removing the failed nodes from the existing layout.
 It then seals the epoch to prevent any client from accessing the stale layout.
 Finally we run paxos to update all servers with the new layout.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>currentLayout</code> - The current layout</dd>
<dd><code>failedServers</code> - Set of failed server addresses</dd>
<dd><code>healedServers</code> - Set of healed server addresses</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../org/corfudb/runtime/exceptions/QuorumUnreachableException.html" title="class in org.corfudb.runtime.exceptions">QuorumUnreachableException</a></code></dd>
<dd><code><a href="../../../../org/corfudb/runtime/exceptions/OutrankedException.html" title="class in org.corfudb.runtime.exceptions">OutrankedException</a></code></dd>
<dd><code><a href="http://docs.oracle.com/javase/8/docs/api/java/lang/InterruptedException.html?is-external=true" title="class or interface in java.lang">InterruptedException</a></code></dd>
<dd><code><a href="http://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ExecutionException.html?is-external=true" title="class or interface in java.util.concurrent">ExecutionException</a></code></dd>
<dd><code><a href="../../../../org/corfudb/runtime/exceptions/LayoutModificationException.html" title="class in org.corfudb.runtime.exceptions">LayoutModificationException</a></code></dd>
<dd><code><a href="http://docs.oracle.com/javase/8/docs/api/java/lang/CloneNotSupportedException.html?is-external=true" title="class or interface in java.lang">CloneNotSupportedException</a></code></dd>
</dl>
</li>
</ul>
<a name="bootstrapNewNode-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>bootstrapNewNode</h4>
<pre>public&nbsp;void&nbsp;bootstrapNewNode(<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;endpoint)
                      throws <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/InterruptedException.html?is-external=true" title="class or interface in java.lang">InterruptedException</a>,
                             <a href="http://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ExecutionException.html?is-external=true" title="class or interface in java.util.concurrent">ExecutionException</a>,
                             <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/CloneNotSupportedException.html?is-external=true" title="class or interface in java.lang">CloneNotSupportedException</a></pre>
<div class="block">Bootstraps the new node with the current layout.
 This action is invoked as a part of the add node workflow which requires the new node
 to be added to the cluster to be bootstrapped with the existing layout of this cluster.
 This bootstraps the Layout and the Management server with the existing layout and also
 initiates failure handling capabilities on the management server.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>endpoint</code> - New node endpoint.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/8/docs/api/java/lang/InterruptedException.html?is-external=true" title="class or interface in java.lang">InterruptedException</a></code> - if bootstrapping interrupted.</dd>
<dd><code><a href="http://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ExecutionException.html?is-external=true" title="class or interface in java.util.concurrent">ExecutionException</a></code> - if bootstrapping fails.</dd>
<dd><code><a href="http://docs.oracle.com/javase/8/docs/api/java/lang/CloneNotSupportedException.html?is-external=true" title="class or interface in java.lang">CloneNotSupportedException</a></code> - if layout clone fails.</dd>
</dl>
</li>
</ul>
<a name="addNode-org.corfudb.runtime.view.Layout-java.lang.String-boolean-boolean-boolean-boolean-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>addNode</h4>
<pre>public&nbsp;void&nbsp;addNode(<a href="../../../../org/corfudb/runtime/view/Layout.html" title="class in org.corfudb.runtime.view">Layout</a>&nbsp;currentLayout,
                    <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;endpoint,
                    boolean&nbsp;isLayoutServer,
                    boolean&nbsp;isSequencerServer,
                    boolean&nbsp;isLogUnitServer,
                    boolean&nbsp;isUnresponsiveServer,
                    int&nbsp;logUnitStripeIndex)
             throws <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/CloneNotSupportedException.html?is-external=true" title="class or interface in java.lang">CloneNotSupportedException</a>,
                    <a href="../../../../org/corfudb/runtime/exceptions/QuorumUnreachableException.html" title="class in org.corfudb.runtime.exceptions">QuorumUnreachableException</a>,
                    <a href="../../../../org/corfudb/runtime/exceptions/OutrankedException.html" title="class in org.corfudb.runtime.exceptions">OutrankedException</a>,
                    <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/InterruptedException.html?is-external=true" title="class or interface in java.lang">InterruptedException</a>,
                    <a href="http://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ExecutionException.html?is-external=true" title="class or interface in java.util.concurrent">ExecutionException</a></pre>
<div class="block">Adds a new node to the existing layout.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>currentLayout</code> - Current layout.</dd>
<dd><code>endpoint</code> - New endpoint to be added.</dd>
<dd><code>isLayoutServer</code> - is a layout server</dd>
<dd><code>isSequencerServer</code> - is a sequencer server</dd>
<dd><code>isLogUnitServer</code> - is a log unit server</dd>
<dd><code>isUnresponsiveServer</code> - is an unresponsive server</dd>
<dd><code>logUnitStripeIndex</code> - stripe index to be added into if its a log unit.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/8/docs/api/java/lang/CloneNotSupportedException.html?is-external=true" title="class or interface in java.lang">CloneNotSupportedException</a></code> - if layout clone fails.</dd>
<dd><code><a href="../../../../org/corfudb/runtime/exceptions/QuorumUnreachableException.html" title="class in org.corfudb.runtime.exceptions">QuorumUnreachableException</a></code> - if seal or consensus cannot be achieved.</dd>
<dd><code><a href="../../../../org/corfudb/runtime/exceptions/OutrankedException.html" title="class in org.corfudb.runtime.exceptions">OutrankedException</a></code> - if consensus outranked.</dd>
<dd><code><a href="http://docs.oracle.com/javase/8/docs/api/java/lang/InterruptedException.html?is-external=true" title="class or interface in java.lang">InterruptedException</a></code> - if fetching global tail interrupted.</dd>
<dd><code><a href="http://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ExecutionException.html?is-external=true" title="class or interface in java.util.concurrent">ExecutionException</a></code> - if fetching global tail failed.</dd>
</dl>
</li>
</ul>
<a name="mergeSegments-org.corfudb.runtime.view.Layout-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>mergeSegments</h4>
<pre>public&nbsp;boolean&nbsp;mergeSegments(<a href="../../../../org/corfudb/runtime/view/Layout.html" title="class in org.corfudb.runtime.view">Layout</a>&nbsp;currentLayout)
                      throws <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/CloneNotSupportedException.html?is-external=true" title="class or interface in java.lang">CloneNotSupportedException</a>,
                             <a href="../../../../org/corfudb/runtime/exceptions/QuorumUnreachableException.html" title="class in org.corfudb.runtime.exceptions">QuorumUnreachableException</a>,
                             <a href="../../../../org/corfudb/runtime/exceptions/LayoutModificationException.html" title="class in org.corfudb.runtime.exceptions">LayoutModificationException</a>,
                             <a href="../../../../org/corfudb/runtime/exceptions/OutrankedException.html" title="class in org.corfudb.runtime.exceptions">OutrankedException</a></pre>
<div class="block">Attempts to merge the last 2 segments.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>currentLayout</code> - Current layout</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>True if merge successful, else False.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/8/docs/api/java/lang/CloneNotSupportedException.html?is-external=true" title="class or interface in java.lang">CloneNotSupportedException</a></code> - if layout clne fails.</dd>
<dd><code><a href="../../../../org/corfudb/runtime/exceptions/QuorumUnreachableException.html" title="class in org.corfudb.runtime.exceptions">QuorumUnreachableException</a></code> - if seal or consensus could not be achieved.</dd>
<dd><code><a href="../../../../org/corfudb/runtime/exceptions/LayoutModificationException.html" title="class in org.corfudb.runtime.exceptions">LayoutModificationException</a></code> - if merge not possible in layout.</dd>
<dd><code><a href="../../../../org/corfudb/runtime/exceptions/OutrankedException.html" title="class in org.corfudb.runtime.exceptions">OutrankedException</a></code> - if consensus is outranked.</dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/LayoutManagementView.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../org/corfudb/runtime/view/LayoutDeserializer.html" title="class in org.corfudb.runtime.view"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../org/corfudb/runtime/view/LayoutView.html" title="class in org.corfudb.runtime.view"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?org/corfudb/runtime/view/LayoutManagementView.html" target="_top">Frames</a></li>
<li><a href="LayoutManagementView.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.classes.inherited.from.class.org.corfudb.runtime.view.AbstractView">Nested</a>&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright &#169; 2017 <a href="http://www.corfudb.org">CorfuDB</a>. All rights reserved.</small></p>
</body>
</html>
