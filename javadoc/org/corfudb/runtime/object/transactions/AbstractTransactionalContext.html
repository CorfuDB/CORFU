<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_131) on Thu Jul 20 01:53:03 UTC 2017 -->
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>AbstractTransactionalContext (corfu 0.1-3920 API)</title>
<meta name="date" content="2017-07-20">
<link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="AbstractTransactionalContext (corfu 0.1-3920 API)";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":6,"i2":10,"i3":6,"i4":10,"i5":10,"i6":6,"i7":6,"i8":6,"i9":10,"i10":10};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],4:["t3","Abstract Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/AbstractTransactionalContext.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev&nbsp;Class</li>
<li><a href="../../../../../org/corfudb/runtime/object/transactions/ConflictSetInfo.html" title="class in org.corfudb.runtime.object.transactions"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?org/corfudb/runtime/object/transactions/AbstractTransactionalContext.html" target="_top">Frames</a></li>
<li><a href="AbstractTransactionalContext.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.corfudb.runtime.object.transactions</div>
<h2 title="Class AbstractTransactionalContext" class="title">Class AbstractTransactionalContext</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">java.lang.Object</a></li>
<li>
<ul class="inheritance">
<li>org.corfudb.runtime.object.transactions.AbstractTransactionalContext</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd><a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Comparable.html?is-external=true" title="class or interface in java.lang">Comparable</a>&lt;<a href="../../../../../org/corfudb/runtime/object/transactions/AbstractTransactionalContext.html" title="class in org.corfudb.runtime.object.transactions">AbstractTransactionalContext</a>&gt;</dd>
</dl>
<dl>
<dt>Direct Known Subclasses:</dt>
<dd><a href="../../../../../org/corfudb/runtime/object/transactions/OptimisticTransactionalContext.html" title="class in org.corfudb.runtime.object.transactions">OptimisticTransactionalContext</a>, <a href="../../../../../org/corfudb/runtime/object/transactions/SnapshotTransactionalContext.html" title="class in org.corfudb.runtime.object.transactions">SnapshotTransactionalContext</a></dd>
</dl>
<hr>
<br>
<pre>public abstract class <span class="typeNameLabel">AbstractTransactionalContext</span>
extends <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>
implements <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Comparable.html?is-external=true" title="class or interface in java.lang">Comparable</a>&lt;<a href="../../../../../org/corfudb/runtime/object/transactions/AbstractTransactionalContext.html" title="class in org.corfudb.runtime.object.transactions">AbstractTransactionalContext</a>&gt;</pre>
<div class="block">Represents a transactional context. Transactional contexts
 manage per-thread transaction state.

 <p>Recall from <code>CorfuCompileProxy</code> that an SMR object layer implements objects whose
 history of updates
 are backed by a stream. If a Corfu object's method is an Accessor, it invokes the proxy's
 access() method. Likewise, if a Corfu object's method is a Mutator or Accessor-Mutator,
 it invokes the proxy's logUpdate() method.

 <p>Within transactional context, these methods invoke the transactionalContext
 accessor/mutator helper.

 <p>For example, OptimisticTransactionalContext.access() is responsible for
 sync'ing the proxy state to the snapshot version, and then doing the access.

 <p>logUpdate() within transactional context is
 responsible for updating the write-set.

 <p>Finally, if a Corfu object's method is an Accessor-Mutator, then although the mutation
 is delayed, it needs to obtain the result by invoking getUpcallResult() on the optimistic
 stream. This is similar to the second stage of access(), except working on the optimistic
 stream instead of the underlying stream.

 <p>Created by mwei on 4/4/16.</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/corfudb/runtime/object/transactions/AbstractTransactionalContext.html#ABORTED_ADDRESS">ABORTED_ADDRESS</a></span></code>
<div class="block">Constant for a transaction which has been aborted.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="../../../../../org/corfudb/runtime/object/transactions/TransactionBuilder.html" title="class in org.corfudb.runtime.object.transactions">TransactionBuilder</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/corfudb/runtime/object/transactions/AbstractTransactionalContext.html#builder">builder</a></span></code>
<div class="block">The builder used to create this transaction.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/corfudb/runtime/object/transactions/AbstractTransactionalContext.html#commitAddress">commitAddress</a></span></code>
<div class="block">The address that the transaction was committed at.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="http://docs.oracle.com/javase/8/docs/api/java/util/concurrent/CompletableFuture.html?is-external=true" title="class or interface in java.util.concurrent">CompletableFuture</a>&lt;<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Boolean.html?is-external=true" title="class or interface in java.lang">Boolean</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/corfudb/runtime/object/transactions/AbstractTransactionalContext.html#completionFuture">completionFuture</a></span></code>
<div class="block">A future which gets completed when this transaction commits.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/corfudb/runtime/object/transactions/AbstractTransactionalContext.html#FOLDED_ADDRESS">FOLDED_ADDRESS</a></span></code>
<div class="block">Constant for a transaction which has been folded into
 another transaction.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/corfudb/runtime/object/transactions/AbstractTransactionalContext.html#NOWRITE_ADDRESS">NOWRITE_ADDRESS</a></span></code>
<div class="block">Constant for committing a transaction which did not
 modify the log at all.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/corfudb/runtime/object/transactions/AbstractTransactionalContext.html#startTime">startTime</a></span></code>
<div class="block">The start time of the context.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="http://docs.oracle.com/javase/8/docs/api/java/util/UUID.html?is-external=true" title="class or interface in java.util">UUID</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/corfudb/runtime/object/transactions/AbstractTransactionalContext.html#transactionID">transactionID</a></span></code>
<div class="block">The ID of the transaction.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/corfudb/runtime/object/transactions/AbstractTransactionalContext.html#UNCOMMITTED_ADDRESS">UNCOMMITTED_ADDRESS</a></span></code>
<div class="block">Constant for the address of an uncommitted log entry.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t3" class="tableTab"><span><a href="javascript:show(4);">Abstract Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/corfudb/runtime/object/transactions/AbstractTransactionalContext.html#abortTransaction-org.corfudb.runtime.exceptions.TransactionAbortedException-">abortTransaction</a></span>(<a href="../../../../../org/corfudb/runtime/exceptions/TransactionAbortedException.html" title="class in org.corfudb.runtime.exceptions">TransactionAbortedException</a>&nbsp;ae)</code>
<div class="block">Forcefully abort the transaction.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>abstract &lt;R,T&gt;&nbsp;R</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/corfudb/runtime/object/transactions/AbstractTransactionalContext.html#access-org.corfudb.runtime.object.ICorfuSMRProxyInternal-org.corfudb.runtime.object.ICorfuSMRAccess-java.lang.Object:A-">access</a></span>(<a href="../../../../../org/corfudb/runtime/object/ICorfuSMRProxyInternal.html" title="interface in org.corfudb.runtime.object">ICorfuSMRProxyInternal</a>&lt;T&gt;&nbsp;proxy,
      <a href="../../../../../org/corfudb/runtime/object/ICorfuSMRAccess.html" title="interface in org.corfudb.runtime.object">ICorfuSMRAccess</a>&lt;R,T&gt;&nbsp;accessFunction,
      <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>[]&nbsp;conflictObject)</code>
<div class="block">Access the state of the object.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/corfudb/runtime/object/transactions/AbstractTransactionalContext.html#addToReadSet-org.corfudb.runtime.object.ICorfuSMRProxyInternal-java.lang.Object:A-">addToReadSet</a></span>(<a href="../../../../../org/corfudb/runtime/object/ICorfuSMRProxyInternal.html" title="interface in org.corfudb.runtime.object">ICorfuSMRProxyInternal</a>&nbsp;proxy,
            <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>[]&nbsp;conflictObjects)</code>
<div class="block">Add the proxy and conflict-params information to our read set.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>abstract void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/corfudb/runtime/object/transactions/AbstractTransactionalContext.html#addTransaction-org.corfudb.runtime.object.transactions.AbstractTransactionalContext-">addTransaction</a></span>(<a href="../../../../../org/corfudb/runtime/object/transactions/AbstractTransactionalContext.html" title="class in org.corfudb.runtime.object.transactions">AbstractTransactionalContext</a>&nbsp;tc)</code>
<div class="block">Add a given transaction to this transactional context, merging
 the read and write sets.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/corfudb/runtime/object/transactions/AbstractTransactionalContext.html#commitTransaction--">commitTransaction</a></span>()</code>
<div class="block">Commit the transaction to the log.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/corfudb/runtime/object/transactions/AbstractTransactionalContext.html#compareTo-org.corfudb.runtime.object.transactions.AbstractTransactionalContext-">compareTo</a></span>(<a href="../../../../../org/corfudb/runtime/object/transactions/AbstractTransactionalContext.html" title="class in org.corfudb.runtime.object.transactions">AbstractTransactionalContext</a>&nbsp;o)</code>
<div class="block">Transactions are ordered by their snapshot timestamp.</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>abstract &lt;T&gt;&nbsp;<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/corfudb/runtime/object/transactions/AbstractTransactionalContext.html#getUpcallResult-org.corfudb.runtime.object.ICorfuSMRProxyInternal-long-java.lang.Object:A-">getUpcallResult</a></span>(<a href="../../../../../org/corfudb/runtime/object/ICorfuSMRProxyInternal.html" title="interface in org.corfudb.runtime.object">ICorfuSMRProxyInternal</a>&lt;T&gt;&nbsp;proxy,
               long&nbsp;timestamp,
               <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>[]&nbsp;conflictObject)</code>
<div class="block">Get the result of an upcall.</div>
</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>abstract &lt;T&gt;&nbsp;long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/corfudb/runtime/object/transactions/AbstractTransactionalContext.html#logUpdate-org.corfudb.runtime.object.ICorfuSMRProxyInternal-org.corfudb.protocols.logprotocol.SMREntry-java.lang.Object:A-">logUpdate</a></span>(<a href="../../../../../org/corfudb/runtime/object/ICorfuSMRProxyInternal.html" title="interface in org.corfudb.runtime.object">ICorfuSMRProxyInternal</a>&lt;T&gt;&nbsp;proxy,
         <a href="../../../../../org/corfudb/protocols/logprotocol/SMREntry.html" title="class in org.corfudb.protocols.logprotocol">SMREntry</a>&nbsp;updateEntry,
         <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>[]&nbsp;conflictObject)</code>
<div class="block">Log an SMR update to the Corfu log.</div>
</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code>abstract long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/corfudb/runtime/object/transactions/AbstractTransactionalContext.html#obtainSnapshotTimestamp--">obtainSnapshotTimestamp</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/corfudb/runtime/object/transactions/AbstractTransactionalContext.html#syncWithRetryUnsafe-org.corfudb.runtime.object.VersionLockedObject-long-org.corfudb.runtime.object.ICorfuSMRProxyInternal-java.util.function.Consumer-">syncWithRetryUnsafe</a></span>(<a href="../../../../../org/corfudb/runtime/object/VersionLockedObject.html" title="class in org.corfudb.runtime.object">VersionLockedObject</a>&nbsp;vlo,
                   long&nbsp;snapshotTimestamp,
                   <a href="../../../../../org/corfudb/runtime/object/ICorfuSMRProxyInternal.html" title="interface in org.corfudb.runtime.object">ICorfuSMRProxyInternal</a>&nbsp;proxy,
                   <a href="http://docs.oracle.com/javase/8/docs/api/java/util/function/Consumer.html?is-external=true" title="class or interface in java.util.function">Consumer</a>&lt;<a href="../../../../../org/corfudb/runtime/object/VersionLockedObject.html" title="class in org.corfudb.runtime.object">VersionLockedObject</a>&gt;&nbsp;optimisticStreamSetter)</code>&nbsp;</td>
</tr>
<tr id="i10" class="altColor">
<td class="colFirst"><code><a href="http://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/corfudb/runtime/object/transactions/AbstractTransactionalContext.html#toString--">toString</a></span>()</code>&nbsp;</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></h3>
<code><a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#clone--" title="class or interface in java.lang">clone</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#equals-java.lang.Object-" title="class or interface in java.lang">equals</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#finalize--" title="class or interface in java.lang">finalize</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#getClass--" title="class or interface in java.lang">getClass</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#hashCode--" title="class or interface in java.lang">hashCode</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#notify--" title="class or interface in java.lang">notify</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#notifyAll--" title="class or interface in java.lang">notifyAll</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#wait--" title="class or interface in java.lang">wait</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#wait-long-" title="class or interface in java.lang">wait</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#wait-long-int-" title="class or interface in java.lang">wait</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="UNCOMMITTED_ADDRESS">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>UNCOMMITTED_ADDRESS</h4>
<pre>public static final&nbsp;long UNCOMMITTED_ADDRESS</pre>
<div class="block">Constant for the address of an uncommitted log entry.</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../constant-values.html#org.corfudb.runtime.object.transactions.AbstractTransactionalContext.UNCOMMITTED_ADDRESS">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="FOLDED_ADDRESS">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>FOLDED_ADDRESS</h4>
<pre>public static final&nbsp;long FOLDED_ADDRESS</pre>
<div class="block">Constant for a transaction which has been folded into
 another transaction.</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../constant-values.html#org.corfudb.runtime.object.transactions.AbstractTransactionalContext.FOLDED_ADDRESS">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="ABORTED_ADDRESS">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>ABORTED_ADDRESS</h4>
<pre>public static final&nbsp;long ABORTED_ADDRESS</pre>
<div class="block">Constant for a transaction which has been aborted.</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../constant-values.html#org.corfudb.runtime.object.transactions.AbstractTransactionalContext.ABORTED_ADDRESS">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="NOWRITE_ADDRESS">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>NOWRITE_ADDRESS</h4>
<pre>public static final&nbsp;long NOWRITE_ADDRESS</pre>
<div class="block">Constant for committing a transaction which did not
 modify the log at all.</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../constant-values.html#org.corfudb.runtime.object.transactions.AbstractTransactionalContext.NOWRITE_ADDRESS">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="transactionID">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>transactionID</h4>
<pre>public&nbsp;<a href="http://docs.oracle.com/javase/8/docs/api/java/util/UUID.html?is-external=true" title="class or interface in java.util">UUID</a> transactionID</pre>
<div class="block">The ID of the transaction. This is used for tracking only, it is
 NOT recorded in the log.</div>
</li>
</ul>
<a name="builder">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>builder</h4>
<pre>public final&nbsp;<a href="../../../../../org/corfudb/runtime/object/transactions/TransactionBuilder.html" title="class in org.corfudb.runtime.object.transactions">TransactionBuilder</a> builder</pre>
<div class="block">The builder used to create this transaction.</div>
</li>
</ul>
<a name="startTime">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>startTime</h4>
<pre>public final&nbsp;long startTime</pre>
<div class="block">The start time of the context.</div>
</li>
</ul>
<a name="commitAddress">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>commitAddress</h4>
<pre>public&nbsp;long commitAddress</pre>
<div class="block">The address that the transaction was committed at.</div>
</li>
</ul>
<a name="completionFuture">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>completionFuture</h4>
<pre>public&nbsp;<a href="http://docs.oracle.com/javase/8/docs/api/java/util/concurrent/CompletableFuture.html?is-external=true" title="class or interface in java.util.concurrent">CompletableFuture</a>&lt;<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Boolean.html?is-external=true" title="class or interface in java.lang">Boolean</a>&gt; completionFuture</pre>
<div class="block">A future which gets completed when this transaction commits.
 It is completed exceptionally when the transaction aborts.</div>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="access-org.corfudb.runtime.object.ICorfuSMRProxyInternal-org.corfudb.runtime.object.ICorfuSMRAccess-java.lang.Object:A-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>access</h4>
<pre>public abstract&nbsp;&lt;R,T&gt;&nbsp;R&nbsp;access(<a href="../../../../../org/corfudb/runtime/object/ICorfuSMRProxyInternal.html" title="interface in org.corfudb.runtime.object">ICorfuSMRProxyInternal</a>&lt;T&gt;&nbsp;proxy,
                               <a href="../../../../../org/corfudb/runtime/object/ICorfuSMRAccess.html" title="interface in org.corfudb.runtime.object">ICorfuSMRAccess</a>&lt;R,T&gt;&nbsp;accessFunction,
                               <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>[]&nbsp;conflictObject)</pre>
<div class="block">Access the state of the object.</div>
<dl>
<dt><span class="paramLabel">Type Parameters:</span></dt>
<dd><code>R</code> - The return type of the access function.</dd>
<dd><code>T</code> - The type of the proxy's underlying object.</dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>proxy</code> - The proxy to access the state for.</dd>
<dd><code>accessFunction</code> - The function to execute, which will be provided with the state
                       of the object.</dd>
<dd><code>conflictObject</code> - Fine-grained conflict information, if available.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The return value of the access function.</dd>
</dl>
</li>
</ul>
<a name="getUpcallResult-org.corfudb.runtime.object.ICorfuSMRProxyInternal-long-java.lang.Object:A-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getUpcallResult</h4>
<pre>public abstract&nbsp;&lt;T&gt;&nbsp;<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>&nbsp;getUpcallResult(<a href="../../../../../org/corfudb/runtime/object/ICorfuSMRProxyInternal.html" title="interface in org.corfudb.runtime.object">ICorfuSMRProxyInternal</a>&lt;T&gt;&nbsp;proxy,
                                           long&nbsp;timestamp,
                                           <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>[]&nbsp;conflictObject)</pre>
<div class="block">Get the result of an upcall.</div>
<dl>
<dt><span class="paramLabel">Type Parameters:</span></dt>
<dd><code>T</code> - The type of the proxy's underlying object.</dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>proxy</code> - The proxy to retrieve the upcall for.</dd>
<dd><code>timestamp</code> - The timestamp to return the upcall for.</dd>
<dd><code>conflictObject</code> - Fine-grained conflict information, if available.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The result of the upcall.</dd>
</dl>
</li>
</ul>
<a name="syncWithRetryUnsafe-org.corfudb.runtime.object.VersionLockedObject-long-org.corfudb.runtime.object.ICorfuSMRProxyInternal-java.util.function.Consumer-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>syncWithRetryUnsafe</h4>
<pre>public&nbsp;void&nbsp;syncWithRetryUnsafe(<a href="../../../../../org/corfudb/runtime/object/VersionLockedObject.html" title="class in org.corfudb.runtime.object">VersionLockedObject</a>&nbsp;vlo,
                                long&nbsp;snapshotTimestamp,
                                <a href="../../../../../org/corfudb/runtime/object/ICorfuSMRProxyInternal.html" title="interface in org.corfudb.runtime.object">ICorfuSMRProxyInternal</a>&nbsp;proxy,
                                <a href="http://docs.oracle.com/javase/8/docs/api/javax/annotation/Nullable.html?is-external=true" title="class or interface in javax.annotation">@Nullable</a>
                                <a href="http://docs.oracle.com/javase/8/docs/api/java/util/function/Consumer.html?is-external=true" title="class or interface in java.util.function">Consumer</a>&lt;<a href="../../../../../org/corfudb/runtime/object/VersionLockedObject.html" title="class in org.corfudb.runtime.object">VersionLockedObject</a>&gt;&nbsp;optimisticStreamSetter)</pre>
</li>
</ul>
<a name="logUpdate-org.corfudb.runtime.object.ICorfuSMRProxyInternal-org.corfudb.protocols.logprotocol.SMREntry-java.lang.Object:A-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>logUpdate</h4>
<pre>public abstract&nbsp;&lt;T&gt;&nbsp;long&nbsp;logUpdate(<a href="../../../../../org/corfudb/runtime/object/ICorfuSMRProxyInternal.html" title="interface in org.corfudb.runtime.object">ICorfuSMRProxyInternal</a>&lt;T&gt;&nbsp;proxy,
                                   <a href="../../../../../org/corfudb/protocols/logprotocol/SMREntry.html" title="class in org.corfudb.protocols.logprotocol">SMREntry</a>&nbsp;updateEntry,
                                   <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>[]&nbsp;conflictObject)</pre>
<div class="block">Log an SMR update to the Corfu log.</div>
<dl>
<dt><span class="paramLabel">Type Parameters:</span></dt>
<dd><code>T</code> - The type of the proxy's underlying object.</dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>proxy</code> - The proxy which generated the update.</dd>
<dd><code>updateEntry</code> - The entry which we are writing to the log.</dd>
<dd><code>conflictObject</code> - Fine-grained conflict information, if available.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The address the update was written at.</dd>
</dl>
</li>
</ul>
<a name="addTransaction-org.corfudb.runtime.object.transactions.AbstractTransactionalContext-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>addTransaction</h4>
<pre>public abstract&nbsp;void&nbsp;addTransaction(<a href="../../../../../org/corfudb/runtime/object/transactions/AbstractTransactionalContext.html" title="class in org.corfudb.runtime.object.transactions">AbstractTransactionalContext</a>&nbsp;tc)</pre>
<div class="block">Add a given transaction to this transactional context, merging
 the read and write sets.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>tc</code> - The transactional context to merge.</dd>
</dl>
</li>
</ul>
<a name="commitTransaction--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>commitTransaction</h4>
<pre>public&nbsp;long&nbsp;commitTransaction()
                       throws <a href="../../../../../org/corfudb/runtime/exceptions/TransactionAbortedException.html" title="class in org.corfudb.runtime.exceptions">TransactionAbortedException</a></pre>
<div class="block">Commit the transaction to the log.</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../org/corfudb/runtime/exceptions/TransactionAbortedException.html" title="class in org.corfudb.runtime.exceptions">TransactionAbortedException</a></code> - If the transaction is aborted.</dd>
</dl>
</li>
</ul>
<a name="abortTransaction-org.corfudb.runtime.exceptions.TransactionAbortedException-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>abortTransaction</h4>
<pre>public&nbsp;void&nbsp;abortTransaction(<a href="../../../../../org/corfudb/runtime/exceptions/TransactionAbortedException.html" title="class in org.corfudb.runtime.exceptions">TransactionAbortedException</a>&nbsp;ae)</pre>
<div class="block">Forcefully abort the transaction.</div>
</li>
</ul>
<a name="obtainSnapshotTimestamp--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>obtainSnapshotTimestamp</h4>
<pre>public abstract&nbsp;long&nbsp;obtainSnapshotTimestamp()</pre>
</li>
</ul>
<a name="addToReadSet-org.corfudb.runtime.object.ICorfuSMRProxyInternal-java.lang.Object:A-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>addToReadSet</h4>
<pre>public&nbsp;void&nbsp;addToReadSet(<a href="../../../../../org/corfudb/runtime/object/ICorfuSMRProxyInternal.html" title="interface in org.corfudb.runtime.object">ICorfuSMRProxyInternal</a>&nbsp;proxy,
                         <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>[]&nbsp;conflictObjects)</pre>
<div class="block">Add the proxy and conflict-params information to our read set.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>proxy</code> - The proxy to add</dd>
<dd><code>conflictObjects</code> - The fine-grained conflict information, if
                        available.</dd>
</dl>
</li>
</ul>
<a name="compareTo-org.corfudb.runtime.object.transactions.AbstractTransactionalContext-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>compareTo</h4>
<pre>public&nbsp;int&nbsp;compareTo(<a href="../../../../../org/corfudb/runtime/object/transactions/AbstractTransactionalContext.html" title="class in org.corfudb.runtime.object.transactions">AbstractTransactionalContext</a>&nbsp;o)</pre>
<div class="block">Transactions are ordered by their snapshot timestamp.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Comparable.html?is-external=true#compareTo-T-" title="class or interface in java.lang">compareTo</a></code>&nbsp;in interface&nbsp;<code><a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Comparable.html?is-external=true" title="class or interface in java.lang">Comparable</a>&lt;<a href="../../../../../org/corfudb/runtime/object/transactions/AbstractTransactionalContext.html" title="class in org.corfudb.runtime.object.transactions">AbstractTransactionalContext</a>&gt;</code></dd>
</dl>
</li>
</ul>
<a name="toString--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>toString</h4>
<pre>public&nbsp;<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;toString()</pre>
<dl>
<dt><span class="overrideSpecifyLabel">Overrides:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#toString--" title="class or interface in java.lang">toString</a></code>&nbsp;in class&nbsp;<code><a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></code></dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/AbstractTransactionalContext.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev&nbsp;Class</li>
<li><a href="../../../../../org/corfudb/runtime/object/transactions/ConflictSetInfo.html" title="class in org.corfudb.runtime.object.transactions"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?org/corfudb/runtime/object/transactions/AbstractTransactionalContext.html" target="_top">Frames</a></li>
<li><a href="AbstractTransactionalContext.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright &#169; 2017 <a href="http://www.corfudb.org">CorfuDB</a>. All rights reserved.</small></p>
</body>
</html>
