<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_151) on Wed Dec 20 23:45:35 UTC 2017 -->
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>StreamLogFiles (corfu 0.1-5484 API)</title>
<meta name="date" content="2017-12-20">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="StreamLogFiles (corfu 0.1-5484 API)";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":9,"i5":10,"i6":9,"i7":10,"i8":9,"i9":10,"i10":10,"i11":10,"i12":10,"i13":10,"i14":10,"i15":9};
var tabs = {65535:["t0","All Methods"],1:["t1","Static Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/StreamLogFiles.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../org/corfudb/infrastructure/log/StreamLog.html" title="interface in org.corfudb.infrastructure.log"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../org/corfudb/infrastructure/log/StreamLogFiles.CompactedEntry.html" title="class in org.corfudb.infrastructure.log"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?org/corfudb/infrastructure/log/StreamLogFiles.html" target="_top">Frames</a></li>
<li><a href="StreamLogFiles.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.corfudb.infrastructure.log</div>
<h2 title="Class StreamLogFiles" class="title">Class StreamLogFiles</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">java.lang.Object</a></li>
<li>
<ul class="inheritance">
<li>org.corfudb.infrastructure.log.StreamLogFiles</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd><a href="../../../../org/corfudb/infrastructure/log/StreamLog.html" title="interface in org.corfudb.infrastructure.log">StreamLog</a>, <a href="../../../../org/corfudb/infrastructure/log/StreamLogWithRankedAddressSpace.html" title="interface in org.corfudb.infrastructure.log">StreamLogWithRankedAddressSpace</a></dd>
</dl>
<hr>
<br>
<pre>public class <span class="typeNameLabel">StreamLogFiles</span>
extends <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>
implements <a href="../../../../org/corfudb/infrastructure/log/StreamLog.html" title="interface in org.corfudb.infrastructure.log">StreamLog</a>, <a href="../../../../org/corfudb/infrastructure/log/StreamLogWithRankedAddressSpace.html" title="interface in org.corfudb.infrastructure.log">StreamLogWithRankedAddressSpace</a></pre>
<div class="block">This class implements the StreamLog by persisting the stream log as records in multiple files.
 This StreamLog implementation can detect log file corruption, if checksum is enabled, otherwise
 the checksum field will be ignored.

 <p>Created by maithem on 10/28/16.</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="nested.class.summary">
<!--   -->
</a>
<h3>Nested Class Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Nested Class Summary table, listing nested classes, and an explanation">
<caption><span>Nested Classes</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Class and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static class&nbsp;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/corfudb/infrastructure/log/StreamLogFiles.CompactedEntry.html" title="class in org.corfudb.infrastructure.log">StreamLogFiles.CompactedEntry</a></span></code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="http://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/corfudb/infrastructure/log/StreamLogFiles.html#logDir">logDir</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/corfudb/infrastructure/log/StreamLogFiles.html#METADATA_SIZE">METADATA_SIZE</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static short</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/corfudb/infrastructure/log/StreamLogFiles.html#RECORD_DELIMITER">RECORD_DELIMITER</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/corfudb/infrastructure/log/StreamLogFiles.html#RECORDS_PER_LOG_FILE">RECORDS_PER_LOG_FILE</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/corfudb/infrastructure/log/StreamLogFiles.html#TRIM_THRESHOLD">TRIM_THRESHOLD</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/corfudb/infrastructure/log/StreamLogFiles.html#VERSION">VERSION</a></span></code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../../org/corfudb/infrastructure/log/StreamLogFiles.html#StreamLogFiles-org.corfudb.infrastructure.ServerContext-boolean-">StreamLogFiles</a></span>(<a href="../../../../org/corfudb/infrastructure/ServerContext.html" title="class in org.corfudb.infrastructure">ServerContext</a>&nbsp;serverContext,
              boolean&nbsp;noVerify)</code>
<div class="block">Returns a file-based stream log object.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t1" class="tableTab"><span><a href="javascript:show(1);">Static Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/corfudb/infrastructure/log/StreamLogFiles.html#append-java.util.List-">append</a></span>(<a href="http://docs.oracle.com/javase/8/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;<a href="../../../../org/corfudb/protocols/wireprotocol/LogData.html" title="class in org.corfudb.protocols.wireprotocol">LogData</a>&gt;&nbsp;range)</code>
<div class="block">Append a range of consecutive entries ordered by their addresses.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/corfudb/infrastructure/log/StreamLogFiles.html#append-long-org.corfudb.protocols.wireprotocol.LogData-">append</a></span>(long&nbsp;address,
      <a href="../../../../org/corfudb/protocols/wireprotocol/LogData.html" title="class in org.corfudb.protocols.wireprotocol">LogData</a>&nbsp;entry)</code>
<div class="block">Append an entry to the stream log.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/corfudb/infrastructure/log/StreamLogFiles.html#close--">close</a></span>()</code>
<div class="block">Close the stream log.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/corfudb/infrastructure/log/StreamLogFiles.html#compact--">compact</a></span>()</code>
<div class="block">Remove all trimmed addresses from the StreamLog.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/corfudb/infrastructure/log/StreamLogFiles.html#getChecksum-byte:A-">getChecksum</a></span>(byte[]&nbsp;bytes)</code>
<div class="block">Returns checksum used for log.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/corfudb/infrastructure/log/StreamLogFiles.html#getGlobalTail--">getGlobalTail</a></span>()</code>
<div class="block">Get the last global address that was written.</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>static <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/corfudb/infrastructure/log/StreamLogFiles.html#getPendingTrimsFilePath-java.lang.String-">getPendingTrimsFilePath</a></span>(<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;segmentPath)</code>&nbsp;</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/corfudb/infrastructure/log/StreamLogFiles.html#getTrimMark--">getTrimMark</a></span>()</code>
<div class="block">Get the first untrimmed address in the address space.</div>
</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code>static <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/corfudb/infrastructure/log/StreamLogFiles.html#getTrimmedFilePath-java.lang.String-">getTrimmedFilePath</a></span>(<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;segmentPath)</code>&nbsp;</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/corfudb/infrastructure/log/StreamLogFiles.html#prefixTrim-long-">prefixTrim</a></span>(long&nbsp;address)</code>
<div class="block">Prefix trim the global log.</div>
</td>
</tr>
<tr id="i10" class="altColor">
<td class="colFirst"><code><a href="../../../../org/corfudb/protocols/wireprotocol/LogData.html" title="class in org.corfudb.protocols.wireprotocol">LogData</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/corfudb/infrastructure/log/StreamLogFiles.html#read-long-">read</a></span>(long&nbsp;address)</code>
<div class="block">Given an address, read the corresponding stream entry.</div>
</td>
</tr>
<tr id="i11" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/corfudb/infrastructure/log/StreamLogFiles.html#release-long-org.corfudb.protocols.wireprotocol.LogData-">release</a></span>(long&nbsp;address,
       <a href="../../../../org/corfudb/protocols/wireprotocol/LogData.html" title="class in org.corfudb.protocols.wireprotocol">LogData</a>&nbsp;entry)</code>
<div class="block">unmap/release the memory for entry.</div>
</td>
</tr>
<tr id="i12" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/corfudb/infrastructure/log/StreamLogFiles.html#reset--">reset</a></span>()</code>
<div class="block">Resets the Stream log.</div>
</td>
</tr>
<tr id="i13" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/corfudb/infrastructure/log/StreamLogFiles.html#sync-boolean-">sync</a></span>(boolean&nbsp;force)</code>
<div class="block">Sync the stream log file to secondary storage.</div>
</td>
</tr>
<tr id="i14" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/corfudb/infrastructure/log/StreamLogFiles.html#trim-long-">trim</a></span>(long&nbsp;address)</code>
<div class="block">Mark a StreamLog address as trimmed.</div>
</td>
</tr>
<tr id="i15" class="rowColor">
<td class="colFirst"><code>static void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/corfudb/infrastructure/log/StreamLogFiles.html#writeHeader-java.nio.channels.FileChannel-int-boolean-">writeHeader</a></span>(<a href="http://docs.oracle.com/javase/8/docs/api/java/nio/channels/FileChannel.html?is-external=true" title="class or interface in java.nio.channels">FileChannel</a>&nbsp;fc,
           int&nbsp;version,
           boolean&nbsp;verify)</code>
<div class="block">Write the header for a Corfu log file.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></h3>
<code><a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#clone--" title="class or interface in java.lang">clone</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#equals-java.lang.Object-" title="class or interface in java.lang">equals</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#finalize--" title="class or interface in java.lang">finalize</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#getClass--" title="class or interface in java.lang">getClass</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#hashCode--" title="class or interface in java.lang">hashCode</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#notify--" title="class or interface in java.lang">notify</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#notifyAll--" title="class or interface in java.lang">notifyAll</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#toString--" title="class or interface in java.lang">toString</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#wait--" title="class or interface in java.lang">wait</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#wait-long-" title="class or interface in java.lang">wait</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#wait-long-int-" title="class or interface in java.lang">wait</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.org.corfudb.infrastructure.log.StreamLogWithRankedAddressSpace">
<!--   -->
</a>
<h3>Methods inherited from interface&nbsp;org.corfudb.infrastructure.log.<a href="../../../../org/corfudb/infrastructure/log/StreamLogWithRankedAddressSpace.html" title="interface in org.corfudb.infrastructure.log">StreamLogWithRankedAddressSpace</a></h3>
<code><a href="../../../../org/corfudb/infrastructure/log/StreamLogWithRankedAddressSpace.html#assertAppendPermittedUnsafe-long-org.corfudb.protocols.wireprotocol.LogData-">assertAppendPermittedUnsafe</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="RECORD_DELIMITER">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>RECORD_DELIMITER</h4>
<pre>public static final&nbsp;short RECORD_DELIMITER</pre>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../constant-values.html#org.corfudb.infrastructure.log.StreamLogFiles.RECORD_DELIMITER">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="METADATA_SIZE">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>METADATA_SIZE</h4>
<pre>public static final&nbsp;int METADATA_SIZE</pre>
</li>
</ul>
<a name="VERSION">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>VERSION</h4>
<pre>public static&nbsp;int VERSION</pre>
</li>
</ul>
<a name="RECORDS_PER_LOG_FILE">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>RECORDS_PER_LOG_FILE</h4>
<pre>public static&nbsp;int RECORDS_PER_LOG_FILE</pre>
</li>
</ul>
<a name="TRIM_THRESHOLD">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>TRIM_THRESHOLD</h4>
<pre>public static&nbsp;int TRIM_THRESHOLD</pre>
</li>
</ul>
<a name="logDir">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>logDir</h4>
<pre>public final&nbsp;<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a> logDir</pre>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="StreamLogFiles-org.corfudb.infrastructure.ServerContext-boolean-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>StreamLogFiles</h4>
<pre>public&nbsp;StreamLogFiles(<a href="../../../../org/corfudb/infrastructure/ServerContext.html" title="class in org.corfudb.infrastructure">ServerContext</a>&nbsp;serverContext,
                      boolean&nbsp;noVerify)</pre>
<div class="block">Returns a file-based stream log object.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>serverContext</code> - Context object that provides server state such as epoch,
                       segment and start address</dd>
<dd><code>noVerify</code> - Disable checksum if true</dd>
</dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="getPendingTrimsFilePath-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getPendingTrimsFilePath</h4>
<pre>public static&nbsp;<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;getPendingTrimsFilePath(<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;segmentPath)</pre>
</li>
</ul>
<a name="getTrimmedFilePath-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getTrimmedFilePath</h4>
<pre>public static&nbsp;<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;getTrimmedFilePath(<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;segmentPath)</pre>
</li>
</ul>
<a name="writeHeader-java.nio.channels.FileChannel-int-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>writeHeader</h4>
<pre>public static&nbsp;void&nbsp;writeHeader(<a href="http://docs.oracle.com/javase/8/docs/api/java/nio/channels/FileChannel.html?is-external=true" title="class or interface in java.nio.channels">FileChannel</a>&nbsp;fc,
                               int&nbsp;version,
                               boolean&nbsp;verify)
                        throws <a href="http://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Write the header for a Corfu log file.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>fc</code> - The file channel to use.</dd>
<dd><code>version</code> - The version number to append to the header.</dd>
<dd><code>verify</code> - Checksum verify flag</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code> - I/O exception</dd>
</dl>
</li>
</ul>
<a name="getChecksum-byte:A-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getChecksum</h4>
<pre>public static&nbsp;int&nbsp;getChecksum(byte[]&nbsp;bytes)</pre>
<div class="block">Returns checksum used for log.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>bytes</code> - data over which to compute the checksum</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>checksum of bytes</dd>
</dl>
</li>
</ul>
<a name="getGlobalTail--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getGlobalTail</h4>
<pre>public&nbsp;long&nbsp;getGlobalTail()</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../org/corfudb/infrastructure/log/StreamLog.html#getGlobalTail--">StreamLog</a></code></span></div>
<div class="block">Get the last global address that was written.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../org/corfudb/infrastructure/log/StreamLog.html#getGlobalTail--">getGlobalTail</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../org/corfudb/infrastructure/log/StreamLog.html" title="interface in org.corfudb.infrastructure.log">StreamLog</a></code></dd>
</dl>
</li>
</ul>
<a name="prefixTrim-long-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>prefixTrim</h4>
<pre>public&nbsp;void&nbsp;prefixTrim(long&nbsp;address)</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../org/corfudb/infrastructure/log/StreamLog.html#prefixTrim-long-">StreamLog</a></code></span></div>
<div class="block">Prefix trim the global log.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../org/corfudb/infrastructure/log/StreamLog.html#prefixTrim-long-">prefixTrim</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../org/corfudb/infrastructure/log/StreamLog.html" title="interface in org.corfudb.infrastructure.log">StreamLog</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>address</code> - address to trim the log up to</dd>
</dl>
</li>
</ul>
<a name="sync-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>sync</h4>
<pre>public&nbsp;void&nbsp;sync(boolean&nbsp;force)
          throws <a href="http://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../org/corfudb/infrastructure/log/StreamLog.html#sync-boolean-">StreamLog</a></code></span></div>
<div class="block">Sync the stream log file to secondary storage.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../org/corfudb/infrastructure/log/StreamLog.html#sync-boolean-">sync</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../org/corfudb/infrastructure/log/StreamLog.html" title="interface in org.corfudb.infrastructure.log">StreamLog</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>force</code> - force data to secondary storage if true</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd>
</dl>
</li>
</ul>
<a name="trim-long-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>trim</h4>
<pre>public&nbsp;void&nbsp;trim(long&nbsp;address)</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../org/corfudb/infrastructure/log/StreamLog.html#trim-long-">StreamLog</a></code></span></div>
<div class="block">Mark a StreamLog address as trimmed.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../org/corfudb/infrastructure/log/StreamLog.html#trim-long-">trim</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../org/corfudb/infrastructure/log/StreamLog.html" title="interface in org.corfudb.infrastructure.log">StreamLog</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>address</code> - address to trim from the log</dd>
</dl>
</li>
</ul>
<a name="compact--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>compact</h4>
<pre>public&nbsp;void&nbsp;compact()</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../org/corfudb/infrastructure/log/StreamLog.html#compact--">StreamLog</a></code></span></div>
<div class="block">Remove all trimmed addresses from the StreamLog.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../org/corfudb/infrastructure/log/StreamLog.html#compact--">compact</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../org/corfudb/infrastructure/log/StreamLog.html" title="interface in org.corfudb.infrastructure.log">StreamLog</a></code></dd>
</dl>
</li>
</ul>
<a name="getTrimMark--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getTrimMark</h4>
<pre>public&nbsp;long&nbsp;getTrimMark()</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../org/corfudb/infrastructure/log/StreamLog.html#getTrimMark--">StreamLog</a></code></span></div>
<div class="block">Get the first untrimmed address in the address space.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../org/corfudb/infrastructure/log/StreamLog.html#getTrimMark--">getTrimMark</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../org/corfudb/infrastructure/log/StreamLog.html" title="interface in org.corfudb.infrastructure.log">StreamLog</a></code></dd>
</dl>
</li>
</ul>
<a name="append-java.util.List-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>append</h4>
<pre>public&nbsp;void&nbsp;append(<a href="http://docs.oracle.com/javase/8/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;<a href="../../../../org/corfudb/protocols/wireprotocol/LogData.html" title="class in org.corfudb.protocols.wireprotocol">LogData</a>&gt;&nbsp;range)</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../org/corfudb/infrastructure/log/StreamLog.html#append-java.util.List-">StreamLog</a></code></span></div>
<div class="block">Append a range of consecutive entries ordered by their addresses.
 Entries that are trimmed, or overwrites other addresses are ignored
 (i.e. they are not written) and an OverwriteException is not thrown.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../org/corfudb/infrastructure/log/StreamLog.html#append-java.util.List-">append</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../org/corfudb/infrastructure/log/StreamLog.html" title="interface in org.corfudb.infrastructure.log">StreamLog</a></code></dd>
</dl>
</li>
</ul>
<a name="append-long-org.corfudb.protocols.wireprotocol.LogData-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>append</h4>
<pre>public&nbsp;void&nbsp;append(long&nbsp;address,
                   <a href="../../../../org/corfudb/protocols/wireprotocol/LogData.html" title="class in org.corfudb.protocols.wireprotocol">LogData</a>&nbsp;entry)</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../org/corfudb/infrastructure/log/StreamLog.html#append-long-org.corfudb.protocols.wireprotocol.LogData-">StreamLog</a></code></span></div>
<div class="block">Append an entry to the stream log.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../org/corfudb/infrastructure/log/StreamLog.html#append-long-org.corfudb.protocols.wireprotocol.LogData-">append</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../org/corfudb/infrastructure/log/StreamLog.html" title="interface in org.corfudb.infrastructure.log">StreamLog</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>address</code> - address of append entry</dd>
<dd><code>entry</code> - entry to append to the log</dd>
</dl>
</li>
</ul>
<a name="read-long-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>read</h4>
<pre>public&nbsp;<a href="../../../../org/corfudb/protocols/wireprotocol/LogData.html" title="class in org.corfudb.protocols.wireprotocol">LogData</a>&nbsp;read(long&nbsp;address)</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../org/corfudb/infrastructure/log/StreamLog.html#read-long-">StreamLog</a></code></span></div>
<div class="block">Given an address, read the corresponding stream entry.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../org/corfudb/infrastructure/log/StreamLog.html#read-long-">read</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../org/corfudb/infrastructure/log/StreamLog.html" title="interface in org.corfudb.infrastructure.log">StreamLog</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>address</code> - address to read from the log</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Stream entry if it exists, otherwise return null</dd>
</dl>
</li>
</ul>
<a name="close--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>close</h4>
<pre>public&nbsp;void&nbsp;close()</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../org/corfudb/infrastructure/log/StreamLog.html#close--">StreamLog</a></code></span></div>
<div class="block">Close the stream log.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../org/corfudb/infrastructure/log/StreamLog.html#close--">close</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../org/corfudb/infrastructure/log/StreamLog.html" title="interface in org.corfudb.infrastructure.log">StreamLog</a></code></dd>
</dl>
</li>
</ul>
<a name="release-long-org.corfudb.protocols.wireprotocol.LogData-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>release</h4>
<pre>public&nbsp;void&nbsp;release(long&nbsp;address,
                    <a href="../../../../org/corfudb/protocols/wireprotocol/LogData.html" title="class in org.corfudb.protocols.wireprotocol">LogData</a>&nbsp;entry)</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../org/corfudb/infrastructure/log/StreamLog.html#release-long-org.corfudb.protocols.wireprotocol.LogData-">StreamLog</a></code></span></div>
<div class="block">unmap/release the memory for entry.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../org/corfudb/infrastructure/log/StreamLog.html#release-long-org.corfudb.protocols.wireprotocol.LogData-">release</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../org/corfudb/infrastructure/log/StreamLog.html" title="interface in org.corfudb.infrastructure.log">StreamLog</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>address</code> - address to release</dd>
</dl>
</li>
</ul>
<a name="reset--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>reset</h4>
<pre>public&nbsp;void&nbsp;reset()</pre>
<div class="block">Resets the Stream log.
 Clears all data and resets the handlers.
 Usage: To heal a recovering node, we require to wipe off existing data.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../org/corfudb/infrastructure/log/StreamLog.html#reset--">reset</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../org/corfudb/infrastructure/log/StreamLog.html" title="interface in org.corfudb.infrastructure.log">StreamLog</a></code></dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/StreamLogFiles.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../org/corfudb/infrastructure/log/StreamLog.html" title="interface in org.corfudb.infrastructure.log"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../org/corfudb/infrastructure/log/StreamLogFiles.CompactedEntry.html" title="class in org.corfudb.infrastructure.log"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?org/corfudb/infrastructure/log/StreamLogFiles.html" target="_top">Frames</a></li>
<li><a href="StreamLogFiles.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright &#169; 2017 <a href="http://www.corfudb.org">CorfuDB</a>. All rights reserved.</small></p>
</body>
</html>
